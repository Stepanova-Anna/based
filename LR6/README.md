# Лабораторное занятие №6
## Инвариантная часть
В предметной области, предложенной преподавателем, реализовать реляционную  модель данных в MySQL Workbench. Спроектированная таблица должна отображать связи между сущностями, потенциальные ключи, условия проверки атрибутов.
В данном задании необходимо обратиться к следующим документам:
- Описание предметной области находится в приложении.
- Задания

### Результат

### Задания
1. Определение сущностей и первичных ключей
ИГРА (Game)

PK: game_id (уникальный идентификатор игры)

AK: producer + name (комбинация производителя и названия)

ПРОИЗВОДИТЕЛЬ (Producer)

PK: producer_id (уникальный идентификатор производителя)

AK: producer_name (название производителя)

КЛИЕНТ (Client)

PK: client_id (уникальный идентификатор клиента)

AK: email (уникальный email)

СОТРУДНИК (Employee)

PK: employee_id (уникальный идентификатор сотрудника)

ЗАКАЗ (Order)

PK: order_id (уникальный номер заказа)

ПОЗИЦИЯ_ЗАКАЗА (OrderItem) - промежуточная сущность для связи многие-ко-многим

PK: order_id + game_id (композитный ключ)

2. Атрибуты и ограничения NOT NULL
Сущность	Атрибуты (NOT NULL)	Остальные атрибуты
ИГРА	game_id, name, min_players, max_players	age_limit, producer_id (FK)
ПРОИЗВОДИТЕЛЬ	producer_id, producer_name	-
КЛИЕНТ	client_id, first_name, email	last_name, phone, birth_date, address
СОТРУДНИК	employee_id, full_name	position, phone
ЗАКАЗ	order_id, client_id (FK), employee_id (FK), order_date, delivery_type	delivery_address, status
ПОЗИЦИЯ_ЗАКАЗА	order_id (FK), game_id (FK), quantity	-
3. Проверочные условия (CHECK constraints)
Для сущности ИГРА:

min_players >= 1

max_players >= min_players

age_limit >= 0 (если указано)

Для сущности КЛИЕНТ:

email LIKE '%_@__%.__%' (базовая проверка формата email)

birth_date <= CURRENT_DATE (дата рождения не может быть в будущем)

Для сущности ЗАКАЗ:

delivery_type IN ('delivery', 'pickup')

order_date <= CURRENT_TIMESTAMP

Для сущности ПОЗИЦИЯ_ЗАКАЗА:

quantity >= 1

4. Связи между сущностями
ПРОИЗВОДИТЕЛЬ → ИГРА (1:N)

Один производитель может выпускать много игр

Каждая игра выпущена одним производителем

КЛИЕНТ → ЗАКАЗ (1:N)

Один клиент может сделать много заказов

Каждый заказ сделан одним клиентом

СОТРУДНИК → ЗАКАЗ (1:N)

Один сотрудник может обрабатывать много заказов

Каждый заказ обрабатывается одним сотрудником

ИГРА ↔ ЗАКАЗ (M:N через ПОЗИЦИЯ_ЗАКАЗА)

Одна игра может быть во многих заказах

Один заказ может содержать много игр

5. Внешние ключи (FK)
В ИГРА:

producer_id FK → ПРОИЗВОДИТЕЛЬ(producer_id) NOT NULL

В ЗАКАЗ:

client_id FK → КЛИЕНТ(client_id) NOT NULL

employee_id FK → СОТРУДНИК(employee_id) NOT NULL

В ПОЗИЦИЯ_ЗАКАЗА:

order_id FK → ЗАКАЗ(order_id) NOT NULL

game_id FK → ИГРА(game_id) NOT NULL

6. Дополнительные проверки
Все внешние ключи помечены как NOT NULL, так как:

Игра должна иметь производителя

Заказ должен быть связан с клиентом и сотрудником

Позиция заказа должна быть связана с заказом и игрой

Новых потенциальных ключей после добавления связей не появилось.
